import{_ as S,a as b,d as V,r as l,o as d,c as m,e as i,j as h,g as u,t as x,F as I,E as B,b as s,w as g}from"./app-2aa138e6.js";import E from"./NavigationBar-c3dbfc90.js";import R from"./Carousel-a9aea5c8.js";import q from"./Pagination-b48c1ddc.js";import P from"./Footer-23292a25.js";import{_ as L}from"./InputError-f166d74f.js";import{E as N}from"./Editor-bf64bfff.js";const j={name:"App",components:{NavigationBar:E,Carousel:R,Pagination:q,Footer:P,InputError:L,Editor:N},props:{mentorshipCover:{type:Object,default:()=>({})},mentors:{type:Object,default:()=>({})},mentorshipPageTitle:{type:Object,default:()=>({})}},data(){return{pageSetting:null,mentorItem:null,activeMenu:"mentorship",appointmentDialogVisibile:!1,registerDialogVisibile:!1,notLogInDialogVisible:!1,appointmentData:{mentee_id:this.$page.props.auth.user?this.$page.props.auth.user.id:null,mentor_id:null,method:"ZOOM",status:"PND",description:null,appointment_datetime:null},registerData:{name:null,status:"PND",email:null,image:null,phone_number:"",description:""},methods:{ZOOM:"ZOOM",EMAIL:"EMAIL",IN_PERSON:"IN_PERSON"},dialogHeader:null,errorMsg:null,coverBtnLabel:"Become our mentor now"}},methods:{getPageSetting(){b.get(route("public.getPageSettingData")).then(e=>{this.pageSetting=e.data})},readMentorBackground(e){V.Inertia.get(route("public.readMentorBackground",e))},requestAppointment(e){this.appointmentDialogVisibile=!0,this.appointmentData.mentor_id=e.id,this.dialogHeader="Request an appointment with "+e.name},closeAppointmentRequest(){this.appointmentDialogVisibile=!1,this.errorMsg=null},showNotLogInDialog(e){this.notLogInDialogVisible=!0,this.dialogHeader="Request an appointment with "+e.name},openMentorRegisterDialog(){this.registerDialogVisibile=!0},closeRegisterRequest(){this.registerDialogVisibile=!1,this.errorMsg=null},onAppointmentSubmit(){b.post(route("appointment.store"),this.appointmentData).then(e=>{e.data.success&&(this.$toast.add({severity:"success",summary:"Appointment requested",detail:"Your request has been sent",life:4e3}),this.errorMsg=null,this.appointmentDialogVisibile=!1)}).catch(e=>{e.response.status===422&&(this.errorMsg=e.response.data.message),this.$toast.add({severity:"error",summary:"Error Message",detail:e.response.data.message,life:3e3})})},onRegistrationSubmit(){b.post(route("mentor.storeRegistration"),this.registerData).then(e=>{e.data.success&&(this.$toast.add({severity:"success",summary:"Mentor Registration Requested",detail:"Please wait for admin's approval",life:4e3}),this.errorMsg=null,this.registerDialogVisibile=!1)}).catch(e=>{e.response.status===422&&(this.errorMsg=e.response.data.message),this.$toast.add({severity:"error",summary:"Error Message",detail:e.response.data.message,life:3e3})})},updateEditorData(e){this.registerData.description=e}},mounted(){this.getPageSetting(),this.mentorItem=this.mentors.data,this.mentorItem.forEach(e=>{e.description=e.description.replace(/<[^>]+>/g,"").slice(0,255)+"..."})}},O={class:"min-h-screen w-full"},A={class:"bg-white pt-14 pb-14"},T={key:0,class:"flex flex-wrap justify-center text-center"},F={class:"w-full lg:w-6/12 px-4"},H={class:"text-4xl font-semibold"},U=["innerHTML"],Z={key:1,class:"flex flex-wrap -mx-4 p-4 justify-center items-center"},K={class:"bg-white rounded-lg shadow p-4"},Y=["onClick"],z=["src","alt"],G={class:"flex justify-between"},J=["onClick"],Q={class:"font-bold mb-2 hover:underline"},W=["onClick"],X={class:"grid grid-cols-2 gap-x-4"},$={class:"pb-4 px-2 mb-1"},ee={class:"flex justify-end"},te={class:"grid grid-cols-3 gap-x-4"},se={class:"pb-4 mb-1"},ie=i("span",{class:"block mb-1 font-bold text-base"},"Mentor's Background *",-1),oe={class:"flex justify-end"},ne=i("p",null,"Please log in first",-1);function ae(e,a,p,re,t,r){const v=l("NavigationBar"),y=l("Carousel"),n=l("FormKit"),_=l("InputError"),c=l("Dialog"),w=l("Editor"),D=l("Pagination"),M=l("Footer"),k=l("Toast");return d(),m("div",O,[i("main",null,[t.pageSetting?(d(),h(v,{key:0,pageSetting:this.pageSetting,activeMenu:t.activeMenu},null,8,["pageSetting","activeMenu"])):u("",!0),p.mentorshipCover?(d(),h(y,{key:1,cover:this.mentorshipCover,hasCoverBtn:!0,coverBtnLabel:t.coverBtnLabel,onCoverBtnClicked:r.openMentorRegisterDialog},null,8,["cover","coverBtnLabel","onCoverBtnClicked"])):u("",!0),i("div",A,[p.mentorshipPageTitle?(d(),m("div",T,[i("div",F,[i("h2",H,x(p.mentorshipPageTitle.title),1),i("p",{class:"text-lg leading-relaxed text-gray-600",innerHTML:p.mentorshipPageTitle.description},null,8,U)])])):u("",!0),t.mentorItem?(d(),m("div",Z,[(d(!0),m(I,null,B(t.mentorItem,(o,C)=>(d(),m("div",{key:C,class:"w-full sm:w-1/2 md:w-1/3 lg:w-1/4 px-4 mb-4"},[i("div",K,[i("a",{href:"#",onClick:f=>r.readMentorBackground(o.id)},[i("img",{src:o.image,alt:o.name,class:"w-full rounded-lg h-[200px] object-cover mb-4"},null,8,z)],8,Y),i("div",G,[i("a",{href:"#",onClick:f=>r.readMentorBackground(o.id)},[i("h3",Q,x(o.name),1)],8,J),i("a",{href:"#",onClick:f=>e.$page.props.auth.user?r.requestAppointment(o):r.showNotLogInDialog(o),class:"ml-2 text-blue-500 hover:underline"}," Request an appointment ",8,W)])])]))),128))])):u("",!0),s(c,{visible:t.appointmentDialogVisibile,"onUpdate:visible":a[1]||(a[1]=o=>t.appointmentDialogVisibile=o),modal:"",header:t.dialogHeader,style:{width:"50vw"},breakpoints:{"960px":"75vw","641px":"100vw"}},{default:g(()=>[s(n,{type:"form",modelValue:t.appointmentData,"onUpdate:modelValue":a[0]||(a[0]=o=>t.appointmentData=o),onSubmit:r.onAppointmentSubmit,actions:!1,config:{classes:{label:"block mb-1 font-bold text-base",input:"w-full rounded-md py-2",help:"text-xs text-gray-500",message:"text-red-500 text-sm font-bold",messages:"pt-2"}}},{default:g(()=>[i("div",X,[s(n,{type:"select",label:"Method *",options:t.methods,name:"method",validation:"required",classes:{outer:"pb-4",input:"border border-gray-400 px-2 mb-1"}},null,8,["options"]),i("div",$,[s(n,{type:"datetime-local",label:"Date and Time *",name:"appointment_datetime",validation:"required",classes:{outer:"pb-4",input:"border border-gray-400 px-2 mb-1"}}),s(_,{class:"text-red-500 text-sm font-bold",message:t.errorMsg},null,8,["message"])])]),i("div",null,[s(n,{type:"textarea",label:"Description *",name:"description",validation:"required",classes:{outer:"pb-4",input:"border border-gray-400 px-2 mb-1"}})]),i("div",ee,[s(n,{type:"button",label:"Cancel",onClick:r.closeAppointmentRequest,classes:{outer:"m-0 text-right",input:"$reset rounded-md py-2 bg-gray-500 text-white font-bold px-3 w-auto mb-2"}},null,8,["onClick"]),s(n,{type:"submit",label:"Submit",classes:{outer:"m-0 text-right",input:"$reset rounded-md py-2 bg-blue-500 text-white font-bold px-3 w-auto ml-5 mb-2"}})])]),_:1},8,["modelValue","onSubmit"])]),_:1},8,["visible","header"]),s(c,{visible:t.registerDialogVisibile,"onUpdate:visible":a[3]||(a[3]=o=>t.registerDialogVisibile=o),modal:"",header:"Mentor Registration",style:{width:"50vw"},breakpoints:{"960px":"75vw","641px":"100vw"}},{default:g(()=>[s(n,{type:"form",modelValue:t.registerData,"onUpdate:modelValue":a[2]||(a[2]=o=>t.registerData=o),onSubmit:r.onRegistrationSubmit,actions:!1,config:{classes:{label:"block mb-1 font-bold text-base",input:"w-full rounded-md py-2",help:"text-xs text-gray-500",message:"text-red-500 text-sm font-bold",messages:"pt-2"}}},{default:g(()=>[i("div",te,[s(n,{type:"text",label:"Name *",name:"name",validation:"required",classes:{outer:"pb-4",input:"border border-gray-400 px-2 mb-1"}}),s(n,{type:"email",label:"Email *",name:"email",validation:"required|email",classes:{outer:"pb-4",input:"border border-gray-400 px-2 mb-1"}}),s(n,{type:"tel",label:"Phone number",name:"phone_number",classes:{outer:"pb-4",input:"border border-gray-400 px-2 mb-1"}})]),s(n,{type:"image",label:"Image (2MB max)",name:"image",accept:".jpg,.png,.jepg",classes:{outer:"pb-4",input:"border border-gray-400 px-2 mb-1"}}),i("div",se,[ie,s(w,{content:t.registerData.description,onUpdateEditorData:r.updateEditorData},null,8,["content","onUpdateEditorData"]),s(_,{class:"text-red-500 text-sm font-bold",message:t.errorMsg},null,8,["message"])]),i("div",oe,[s(n,{type:"button",label:"Cancel",onClick:r.closeRegisterRequest,classes:{outer:"m-0 text-right",input:"$reset rounded-md py-2 bg-gray-500 text-white font-bold px-3 w-auto mb-2"}},null,8,["onClick"]),s(n,{type:"submit",label:"Register",classes:{outer:"m-0 text-right",input:"$reset rounded-md py-2 bg-blue-500 text-white font-bold px-3 w-auto ml-5 mb-2"}})])]),_:1},8,["modelValue","onSubmit"])]),_:1},8,["visible"]),s(c,{visible:t.notLogInDialogVisible,"onUpdate:visible":a[4]||(a[4]=o=>t.notLogInDialogVisible=o),modal:"",header:t.dialogHeader,style:{width:"50vw"},breakpoints:{"960px":"75vw","641px":"100vw"}},{default:g(()=>[ne]),_:1},8,["visible","header"]),s(D,{data:p.mentors},null,8,["data"])]),t.pageSetting?(d(),h(M,{key:2,pageSetting:this.pageSetting},null,8,["pageSetting"])):u("",!0)]),s(k)])}const be=S(j,[["render",ae]]);export{be as default};
