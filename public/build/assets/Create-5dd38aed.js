import{_ as f,a as d,d as m,r as n,o as h,c as y,b as t,w as u,F as v,e as s,p as S,f as w}from"./app-2aa138e6.js";import{_ as C}from"./InputError-f166d74f.js";const I={components:{InputError:C},data(){return{formData:{name:null,code:null,status:"ACT",permissions:[]},statuses:{ACT:"ACTIVE",DSBL:"DISABLED"},permissionList:null,errorMsg:null}},methods:{onSubmit(){d.post(route("role.store"),this.formData).then(e=>{e.data.success&&m.Inertia.visit(route("role.index"))}).catch(e=>{e.response.status===422&&(this.errorMsg=e.response.data.message),this.$toast.add({severity:"error",summary:"Error Message",detail:e.response.data.message,life:3e3})})},goBack(){m.Inertia.visit(route("role.index"))},getPermissionList(){d.get(route("permission.getPermissionList")).then(e=>{this.permissionList=e.data}).catch(e=>{this.$toast.add({severity:"error",summary:"Error Message",detail:e.response.data.message,life:3e3})})}},mounted(){this.getPermissionList()}},p=e=>(S("data-v-66c02231"),e=e(),w(),e),B={class:"mx-auto flex container items-center justify-center mt-4"},V={class:"rounded w-full p-2 bg-white"},D={class:"px-4 bg-white shadow sm:rounded-lg"},L=p(()=>s("div",{class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},[s("header",null,[s("h2",{class:"text-lg font-medium text-gray-900"}," Create New Role "),s("p",{class:"mt-1 text-sm text-gray-600"}," Add role's name, status and permissions ")])],-1)),M={class:"grid grid-cols-3 gap-x-4"},k={class:"pb-4 px-2 mb-1"},E=p(()=>s("span",{class:"block mb-1 font-bold text-base"},"Permissions",-1)),q={class:"w-full rounded-md py-2"};function A(e,r,T,F,o,l){const c=n("Head"),a=n("FormKit"),b=n("InputError"),_=n("MultiSelect"),g=n("Toast"),x=n("MenuSideBar");return h(),y(v,null,[t(c,{title:"Roles"}),t(x,null,{default:u(()=>[s("div",B,[s("div",V,[t(a,{type:"button",label:"Go Back",onClick:r[0]||(r[0]=i=>l.goBack()),classes:{outer:"mb-2",input:"bg-blue-500 text-white font-bold px-3 mb-2 w-auto rounded-md py-2"}}),s("div",D,[L,t(a,{type:"form",modelValue:o.formData,"onUpdate:modelValue":r[2]||(r[2]=i=>o.formData=i),onSubmit:l.onSubmit,actions:!1,config:{classes:{label:"block mb-1 font-bold text-base",input:"w-full rounded-md py-2",help:"text-xs text-gray-500",message:"text-red-500 text-sm font-bold",messages:"pt-2"}}},{default:u(()=>[s("div",M,[t(a,{type:"text",label:"Name *",name:"name",validation:"required",classes:{outer:"pb-4",input:"border border-gray-400 px-2 mb-1"}}),s("div",k,[t(a,{type:"text",label:"Code *",name:"code",validation:"required",classes:{input:"border border-gray-400"}}),t(b,{class:"text-red-500 text-sm font-bold",message:o.errorMsg},null,8,["message"])]),t(a,{type:"select",label:"Status *",options:o.statuses,name:"status",validation:"required",classes:{outer:"pb-4",input:"border border-gray-400 px-2 mb-1"}},null,8,["options"]),t(a,{type:"number",label:"Sequence",name:"sequence",validation:"number|min:1",classes:{outer:"pb-4",input:"border border-gray-400 px-2 mb-1"}})]),s("div",null,[E,s("div",q,[t(_,{modelValue:o.formData.permissions,"onUpdate:modelValue":r[1]||(r[1]=i=>o.formData.permissions=i),optionValue:"value",options:o.permissionList,optionLabel:"name",placeholder:"Select permissions"},null,8,["modelValue","options"])])]),t(a,{type:"submit",label:"Create",classes:{outer:"m-0 text-right",input:"$reset rounded-md py-2 bg-blue-500 text-white font-bold px-3 w-auto mb-2"}})]),_:1},8,["modelValue","onSubmit"])])])]),t(g)]),_:1})],64)}const H=f(I,[["render",A],["__scopeId","data-v-66c02231"]]);export{H as default};
