import{D as N,h as c}from"./DataTable-2f4cad11.js";import{_ as A,d as y,h as m,i as f,a as v,r as o,o as b,c as I,b as t,w as a,F as U,e as s,j as D,g as S,k as M,t as g,n as B}from"./app-4793bf98.js";const F={components:{DataTable:N},data(){return{apiUrl:c("mentor.getData"),searchableCols:["name","email","phone_number"],statuses:["ACT","DSBL"],filters:null,deleteMentorsDialog:!1,selectedMentors:null,isDeleteSingleMentor:!1,deleteId:null}},props:{can:{type:Object,default:()=>({})}},methods:{addNew(){y.Inertia.get(c("mentor.create"))},show(l){y.Inertia.get(c("mentor.show",l))},edit(l){y.Inertia.get(c("mentor.edit",l),{isTriggeredFromTable:!0})},initFilters(){this.filters={global:{value:null,matchMode:m.CONTAINS},name:{operator:f.AND,constraints:[{value:null,matchMode:m.STARTS_WITH}]},email:{operator:f.AND,constraints:[{value:null,matchMode:m.STARTS_WITH}]},phone_number:{operator:f.AND,constraints:[{value:null,matchMode:m.STARTS_WITH}]},status:{operator:f.OR,constraints:[{value:null,matchMode:m.EQUALS}]}}},confirmMultipleDeleteSelected(){this.deleteMentorsDialog=!0},confirmSingleDeleteSelected(l){this.deleteMentorsDialog=!0,this.isDeleteSingleMentor=!0,this.deleteId=l},deleteMentors(){this.isDeleteSingleMentor?v.delete(c("mentor.destroy",this.deleteId)).then(l=>{l.data.success&&this.$refs.mentorTbl.loadLazyData()}).catch(l=>{this.$toast.add({severity:"error",summary:"Error Message",detail:l.response.data.message,life:3e3})}):v.delete(c("mentor.deleteMultipleRecord",{mentorList:this.selectedMentors})).then(l=>{l.data.success&&this.$refs.mentorTbl.loadLazyData()}).catch(l=>{this.$toast.add({severity:"error",summary:"Error Message",detail:l.response.data.message,life:3e3})}),this.deleteId=null,this.selectedMentors=null,this.isDeleteSingleMentor=!1,this.deleteMentorsDialog=!1},deleteBtnStatus(l){this.selectedMentors=l}},created(){this.initFilters()}},E={class:"mx-auto flex container items-center justify-center mt-4"},H={class:"rounded w-full p-2 bg-white"},L=s("div",{class:"bg-white shadow sm:rounded-lg px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},[s("header",null,[s("h2",{class:"text-2xl font-bold text-gray-900"}," Mentors ")])],-1),R=s("div",{class:"confirmation-content"},[s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}}),s("span",null,"Are you sure you want to delete the selected record(s)?")],-1);function z(l,p,h,O,r,i){const w=o("Head"),d=o("Column"),_=o("InputText"),x=o("Dropdown"),u=o("Button"),C=o("DataTable"),T=o("Dialog"),V=o("Toast"),k=o("MenuSideBar");return b(),I(U,null,[t(w,{title:"Mentors"}),t(k,null,{default:a(()=>[s("div",E,[s("div",H,[L,t(C,{ref:"mentorTbl",apiUrl:r.apiUrl,columnFilters:r.filters,searchableColumns:r.searchableCols,can:h.can,onAddNew:i.addNew,onConfirmMultipleDeleteSelected:i.confirmMultipleDeleteSelected,onDeleteBtnStatus:i.deleteBtnStatus},{default:a(()=>[h.can.delete?(b(),D(d,{key:0,selectionMode:"multiple",headerStyle:"width: 3em"})):S("",!0),t(d,{field:"name",header:"Name",sortable:!0,style:{"min-width":"12rem"}},{body:a(({data:e})=>[M(g(e.name),1)]),filter:a(({filterModel:e})=>[t(_,{type:"text",modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,class:"p-column-filter",placeholder:"Search by name"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(d,{field:"email",header:"Email",sortable:!0,style:{"min-width":"12rem"}},{body:a(({data:e})=>[M(g(e.email),1)]),filter:a(({filterModel:e})=>[t(_,{type:"text",modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,class:"p-column-filter",placeholder:"Search by email"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(d,{field:"phone_number",header:"Phone Number",sortable:!0,style:{"min-width":"12rem"}},{body:a(({data:e})=>[M(g(e.phone_number),1)]),filter:a(({filterModel:e})=>[t(_,{type:"text",modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,class:"p-column-filter",placeholder:"Search by phone number"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(d,{field:"status",header:"Status",filterMenuStyle:{width:"14rem"},style:{"min-width":"12rem"}},{body:a(e=>[s("span",{class:B("text-white p-2 rounded-md "+(e.data.status==="ACT"?"bg-green-500":"bg-red-500"))},g(e.data.status),3)]),filter:a(({filterModel:e})=>[t(x,{modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,options:r.statuses,placeholder:"Any",class:"p-column-filter",showClear:!0},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1}),t(d,{field:"actions",header:"Actions",exportable:!1,style:{"min-width":"8rem"}},{body:a(e=>[t(u,{icon:"pi pi-eye",class:"p-button-rounded bg-[#0078d4]",style:{"margin-right":"5px"},onClick:n=>i.show(e.data.id)},null,8,["onClick"]),h.can.edit?(b(),D(u,{key:0,icon:"pi pi-pencil",class:"p-button-rounded p-button-warning",style:{"margin-right":"5px"},onClick:n=>i.edit(e.data.id)},null,8,["onClick"])):S("",!0),h.can.delete?(b(),D(u,{key:1,icon:"pi pi-trash",class:"p-button-rounded p-button-danger",onClick:n=>i.confirmSingleDeleteSelected(e.data.id)},null,8,["onClick"])):S("",!0)]),_:1})]),_:1},8,["apiUrl","columnFilters","searchableColumns","can","onAddNew","onConfirmMultipleDeleteSelected","onDeleteBtnStatus"])])]),t(T,{visible:r.deleteMentorsDialog,"onUpdate:visible":p[1]||(p[1]=e=>r.deleteMentorsDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:a(()=>[t(u,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:p[0]||(p[0]=e=>r.deleteMentorsDialog=!1)}),t(u,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:i.deleteMentors},null,8,["onClick"])]),default:a(()=>[R]),_:1},8,["visible"]),t(V)]),_:1})],64)}const Q=A(F,[["render",z]]);export{Q as default};
