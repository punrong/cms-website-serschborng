import{_ as w,a as h,r as l,o as p,c as d,e as o,j as g,g as m,t as D,b as s,w as c}from"./app-b81587af.js";import S from"./Carousel-aa4791fe.js";import M from"./NavigationBar-c8646c3e.js";import V from"./Footer-97fd5c4d.js";import{_ as k}from"./InputError-e84b64f4.js";const I={name:"App",components:{NavigationBar:M,Carousel:S,InputError:k,Footer:V},props:{mentor:{type:Object,default:()=>({})}},data(){return{pageSetting:null,activeMenu:"mentorship",appointmentDialogVisibile:!1,notLogInDialogVisible:!1,formData:{mentee_id:this.$page.props.auth.user?this.$page.props.auth.user.id:null,mentor_id:null,method:"ZOOM",status:"PND",description:null,appointment_datetime:null},methods:{ZOOM:"ZOOM",EMAIL:"EMAIL",IN_PERSON:"IN_PERSON"},dialogHeader:null,errorMsg:null}},methods:{getPageSetting(){h.get(route("public.getPageSettingData")).then(e=>{this.pageSetting=e.data})},requestAppointment(e){this.appointmentDialogVisibile=!0,this.formData.mentor_id=e.id,this.dialogHeader="Request an appointment with "+e.name},showNotLogInDialog(e){this.notLogInDialogVisible=!0,this.dialogHeader="Request an appointment with "+e.name},closeAppointmentRequest(){this.appointmentDialogVisibile=!1,this.errorMsg=null},onSubmit(){h.post(route("appointment.store"),this.formData).then(e=>{e.data.success&&(this.$toast.add({severity:"success",summary:"Appointment requested",detail:"Your request has been sent",life:4e3}),this.errorMsg=null,this.appointmentDialogVisibile=!1)}).catch(e=>{e.response.status===422&&(this.errorMsg=e.response.data.message),this.$toast.add({severity:"error",summary:"Error Message",detail:e.response.data.message,life:3e3})})}},mounted(){this.getPageSetting()}},N={class:"min-h-screen w-full"},q={key:2,class:"bg-white pt-14"},C={class:"flex flex-wrap justify-center mb-10"},L={class:"w-full lg:w-6/12 px-4"},E={class:"text-center"},O={class:"text-4xl font-semibold"},A={key:3,class:"bg-white"},B={class:"flex flex-wrap justify-center mb-10"},H={class:"w-full lg:w-6/12 px-4"},P=["innerHTML"],R={class:"grid grid-cols-2 gap-x-4"},j={class:"pb-4 px-2 mb-1"},F={class:"flex justify-end"},T=o("p",null,"Please log in first",-1);function U(e,i,n,Z,t,u){const _=l("NavigationBar"),f=l("Carousel"),a=l("FormKit"),x=l("InputError"),b=l("Dialog"),v=l("Footer"),y=l("Toast");return p(),d("div",N,[o("main",null,[t.pageSetting?(p(),g(_,{key:0,pageSetting:this.pageSetting,activeMenu:t.activeMenu},null,8,["pageSetting","activeMenu"])):m("",!0),n.mentor?(p(),g(f,{key:1,mentor:this.mentor},null,8,["mentor"])):m("",!0),n.mentor?(p(),d("div",q,[o("div",C,[o("div",L,[o("div",E,[o("h2",O,D(n.mentor.name),1)])])])])):m("",!0),n.mentor?(p(),d("div",A,[o("div",B,[o("div",H,[o("p",{class:"mt-4 text-lg leading-relaxed text-gray-600 mentorship-content",innerHTML:n.mentor.description},null,8,P)])])])):m("",!0),s(a,{type:"button",label:"Request an appointment",onClick:i[0]||(i[0]=r=>e.$page.props.auth.user?u.requestAppointment(n.mentor):u.showNotLogInDialog(n.mentor)),classes:{outer:"$reset m-0 text-center",input:"$reset bg-blue-500 text-white active:bg-blue-300 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mb-14"}}),s(b,{visible:t.appointmentDialogVisibile,"onUpdate:visible":i[2]||(i[2]=r=>t.appointmentDialogVisibile=r),modal:"",header:t.dialogHeader,style:{width:"50vw"},breakpoints:{"960px":"75vw","641px":"100vw"}},{default:c(()=>[s(a,{type:"form",modelValue:t.formData,"onUpdate:modelValue":i[1]||(i[1]=r=>t.formData=r),onSubmit:u.onSubmit,actions:!1,config:{classes:{label:"block mb-1 font-bold text-base",input:"w-full rounded-md py-2",help:"text-xs text-gray-500",message:"text-red-500 text-sm font-bold",messages:"pt-2"}}},{default:c(()=>[o("div",R,[s(a,{type:"select",label:"Method *",options:t.methods,name:"method",validation:"required",classes:{outer:"pb-4",input:"border border-gray-400 px-2 mb-1"}},null,8,["options"]),o("div",j,[s(a,{type:"datetime-local",label:"Date and Time *",name:"appointment_datetime",validation:"required",classes:{outer:"pb-4",input:"border border-gray-400 px-2 mb-1"}}),s(x,{class:"text-red-500 text-sm font-bold",message:t.errorMsg},null,8,["message"])])]),o("div",null,[s(a,{type:"textarea",label:"Description *",name:"description",validation:"required",classes:{outer:"pb-4",input:"border border-gray-400 px-2 mb-1"}})]),o("div",F,[s(a,{type:"button",label:"Cancel",onClick:u.closeAppointmentRequest,classes:{outer:"m-0 text-right",input:"$reset rounded-md py-2 bg-gray-500 text-white font-bold px-3 w-auto mb-2"}},null,8,["onClick"]),s(a,{type:"submit",label:"Submit",classes:{outer:"m-0 text-right",input:"$reset rounded-md py-2 bg-blue-500 text-white font-bold px-3 w-auto ml-5 mb-2"}})])]),_:1},8,["modelValue","onSubmit"])]),_:1},8,["visible","header"]),s(b,{visible:t.notLogInDialogVisible,"onUpdate:visible":i[3]||(i[3]=r=>t.notLogInDialogVisible=r),modal:"",header:t.dialogHeader,style:{width:"50vw"},breakpoints:{"960px":"75vw","641px":"100vw"}},{default:c(()=>[T]),_:1},8,["visible","header"]),t.pageSetting?(p(),g(v,{key:4,pageSetting:this.pageSetting},null,8,["pageSetting"])):m("",!0)]),s(y)])}const Q=w(I,[["render",U]]);export{Q as default};
