import{_ as k,a as f,d as S,r as l,o as a,c as u,e,j as g,g as c,t as m,F as L,E as V,b as n,w as h}from"./app-2aa138e6.js";import C from"./Carousel-a0827e01.js";import I from"./NavigationBar-c3dbfc90.js";import N from"./Footer-23292a25.js";import{_ as q}from"./InputError-f166d74f.js";const B={name:"App",components:{NavigationBar:I,Carousel:C,Footer:N,InputError:q},props:{opportunity:{type:Object,default:()=>({})},opportunitiesMentorTitle:{type:Object,default:()=>({})},mentorList:{type:Object,default:()=>({})}},data(){return{pageSetting:null,activeMenu:"opportunities",appointmentDialogVisibile:!1,notLogInDialogVisible:!1,formData:{mentee_id:this.$page.props.auth.user?this.$page.props.auth.user.id:null,mentor_id:null,method:"ZOOM",status:"PND",description:null,appointment_datetime:null,opportunity_id:this.opportunity.id},methods:{ZOOM:"ZOOM",EMAIL:"EMAIL",IN_PERSON:"IN_PERSON"},dialogHeader:null,errorMsg:null}},methods:{getPageSetting(){f.get(route("public.getPageSettingData")).then(t=>{this.pageSetting=t.data})},readMentorBackground(t){S.Inertia.get(route("public.readMentorBackground",t))},requestAppointment(t){this.appointmentDialogVisibile=!0,this.formData.mentor_id=t.id,this.dialogHeader="Request an appointment with "+t.name},showNotLogInDialog(t){this.notLogInDialogVisible=!0,this.dialogHeader="Request an appointment with "+t.name},closeAppointmentRequest(){this.appointmentDialogVisibile=!1,this.errorMsg=null},onSubmit(){f.post(route("appointment.store"),this.formData).then(t=>{t.data.success&&(this.$toast.add({severity:"success",summary:"Appointment requested",detail:"Your request has been sent",life:4e3}),this.errorMsg=null,this.appointmentDialogVisibile=!1)}).catch(t=>{t.response.status===422&&(this.errorMsg=t.response.data.message),this.$toast.add({severity:"error",summary:"Error Message",detail:t.response.data.message,life:3e3})})}},mounted(){this.getPageSetting()}},O={class:"min-h-screen w-full"},j={key:2,class:"bg-white pt-14"},E={class:"flex flex-wrap justify-center mb-10"},T={class:"w-full lg:w-6/12 px-4"},A={class:"text-center"},H={class:"text-4xl font-semibold"},P={class:"mt-4 text-lg text-gray-500"},F={class:"text-lg text-gray-500"},R=["innerHTML"],U={key:3,class:"flex flex-wrap justify-center text-center"},Z={class:"w-full lg:w-6/12"},K={class:"text-4xl font-semibold"},Y=["innerHTML"],z={key:4,class:"flex flex-wrap -mx-4 p-4 justify-center items-center"},G={class:"bg-white rounded-lg shadow p-4"},J=["onClick"],Q=["src","alt"],W={class:"flex justify-between"},X=["onClick"],$={class:"font-bold mb-2 hover:underline"},ee=["onClick"],te={class:"grid grid-cols-2 gap-x-4"},oe={class:"pb-4 px-2 mb-1"},ie={class:"flex justify-end"},se=e("p",null,"Please log in first",-1);function ne(t,r,s,ae,o,d){const x=l("NavigationBar"),y=l("Carousel"),p=l("FormKit"),v=l("InputError"),_=l("Dialog"),w=l("Footer"),D=l("Toast");return a(),u("div",O,[e("main",null,[o.pageSetting?(a(),g(x,{key:0,pageSetting:this.pageSetting,activeMenu:o.activeMenu},null,8,["pageSetting","activeMenu"])):c("",!0),s.opportunity?(a(),g(y,{key:1,opportunity:this.opportunity},null,8,["opportunity"])):c("",!0),s.opportunity?(a(),u("div",j,[e("div",E,[e("div",T,[e("div",A,[e("h2",H,m(s.opportunity.title),1),e("p",P," Author: "+m(s.opportunity.publisher),1),e("p",F," Published Date: "+m(s.opportunity.publish_date),1)]),e("p",{class:"mt-4 text-lg leading-relaxed text-gray-600 opportunity-content",innerHTML:s.opportunity.description},null,8,R)])])])):c("",!0),s.mentorList.length>0?(a(),u("div",U,[e("div",Z,[e("h2",K,m(s.opportunitiesMentorTitle.title),1),e("p",{class:"text-lg leading-relaxed text-gray-600",innerHTML:s.opportunitiesMentorTitle.description},null,8,Y)])])):c("",!0),s.mentorList?(a(),u("div",z,[(a(!0),u(L,null,V(s.mentorList,(i,M)=>(a(),u("div",{key:M,class:"w-full sm:w-1/2 md:w-1/3 lg:w-1/4 px-4 mb-4"},[e("div",G,[e("a",{href:"#",onClick:b=>d.readMentorBackground(i.id)},[e("img",{src:i.image,alt:i.name,class:"w-full rounded-lg h-[200px] object-cover mb-4"},null,8,Q)],8,J),e("div",W,[e("a",{href:"#",onClick:b=>d.readMentorBackground(i.id)},[e("h3",$,m(i.name),1)],8,X),e("a",{href:"#",onClick:b=>t.$page.props.auth.user?d.requestAppointment(i):d.showNotLogInDialog(i),class:"ml-2 text-blue-500 hover:underline"}," Request an appointment ",8,ee)])])]))),128))])):c("",!0),n(_,{visible:o.appointmentDialogVisibile,"onUpdate:visible":r[1]||(r[1]=i=>o.appointmentDialogVisibile=i),modal:"",header:o.dialogHeader,style:{width:"50vw"},breakpoints:{"960px":"75vw","641px":"100vw"}},{default:h(()=>[n(p,{type:"form",modelValue:o.formData,"onUpdate:modelValue":r[0]||(r[0]=i=>o.formData=i),onSubmit:d.onSubmit,actions:!1,config:{classes:{label:"block mb-1 font-bold text-base",input:"w-full rounded-md py-2",help:"text-xs text-gray-500",message:"text-red-500 text-sm font-bold",messages:"pt-2"}}},{default:h(()=>[e("div",te,[n(p,{type:"select",label:"Method *",options:o.methods,name:"method",validation:"required",classes:{outer:"pb-4",input:"border border-gray-400 px-2 mb-1"}},null,8,["options"]),e("div",oe,[n(p,{type:"datetime-local",label:"Date and Time *",name:"appointment_datetime",validation:"required",classes:{outer:"pb-4",input:"border border-gray-400 px-2 mb-1"}}),n(v,{class:"text-red-500 text-sm font-bold",message:o.errorMsg},null,8,["message"])])]),e("div",null,[n(p,{type:"textarea",label:"Description *",name:"description",validation:"required",classes:{outer:"pb-4",input:"border border-gray-400 px-2 mb-1"}})]),e("div",ie,[n(p,{type:"button",label:"Cancel",onClick:d.closeAppointmentRequest,classes:{outer:"m-0 text-right",input:"$reset rounded-md py-2 bg-gray-500 text-white font-bold px-3 w-auto mb-2"}},null,8,["onClick"]),n(p,{type:"submit",label:"Submit",classes:{outer:"m-0 text-right",input:"$reset rounded-md py-2 bg-blue-500 text-white font-bold px-3 w-auto ml-5 mb-2"}})])]),_:1},8,["modelValue","onSubmit"])]),_:1},8,["visible","header"]),n(_,{visible:o.notLogInDialogVisible,"onUpdate:visible":r[2]||(r[2]=i=>o.notLogInDialogVisible=i),modal:"",header:o.dialogHeader,style:{width:"50vw"},breakpoints:{"960px":"75vw","641px":"100vw"}},{default:h(()=>[se]),_:1},8,["visible","header"]),o.pageSetting?(a(),g(w,{key:5,pageSetting:this.pageSetting},null,8,["pageSetting"])):c("",!0)]),n(D)])}const ce=k(B,[["render",ne]]);export{ce as default};
